jQuery(function(e){function t(t){var r=t.replace("-tab","");!function(t){var r=e("#loan-term-"+t),i=e("#amount-"+t),u=e("#interest-"+t),o=e("#residual-"+t);if("Mortgage"==t||"Chattel-Mortgage"==t)v=e("#slider-loan-"+t).slider({min:1,max:6,range:"min",value:r[0].selectedIndex+1,slide:function(a,n){r[0].selectedIndex=n.value-1,e("#"+t+"-loan").attr("value",r.val()),e("#"+t+"-loan").trigger("change")}});else var v=e("#slider-loan-"+t).slider({min:1,max:5,range:"min",value:r[0].selectedIndex+1,slide:function(a,n){r[0].selectedIndex=n.value-1,e("#"+t+"-loan").attr("value",r.val()),e("#"+t+"-loan").trigger("change")}});var s=e("#slider-"+t).slider({min:0,max:1e6,range:"min",value:n(i.val()),step:1e3,slide:function(a,n){i.val(n.value),e("#"+t+"-amount").attr("value",i.val()),e("#"+t+"-amount").trigger("change")}}),d=e("#slider-interest-"+t).slider({min:1,max:75,range:"min",value:u[0].selectedIndex+1,slide:function(a,n){u[0].selectedIndex=n.value-1,e("#"+t+"-interest").attr("value",u.val()+"%"),e("#"+t+"-interest").trigger("change")}}),c=e("#slider-residual-"+t).slider({min:0,max:100,range:"min",value:o.val(),step:1,slide:function(a,n){o.val(n.value),e("#"+t+"-residual").attr("value",o.val()+"%"),e("#"+t+"-residual").trigger("change")}});e("body").on("change","#loan-term-"+t,function(){v.slider("value",this.selectedIndex+1),e("#"+t+"-loan").attr("value",e(this).val()),e("#"+t+"-loan").trigger("change")}),e("body").on("keyup","#amount-"+t,function(){var a=this.value.replace("$","");s.slider("value",a),e("#"+t+"-amount").attr("value","$"+l(a)),e("#"+t+"-amount").trigger("change")}),e("body").on("change","#interest-"+t,function(){d.slider("value",this.selectedIndex+1),e("#"+t+"-interest").attr("value",e(this).val()+"%"),e("#"+t+"-interest").trigger("change")}),e("body").on("keyup","#residual-"+t,function(){e(this);c.slider("value",this.value),e("#"+t+"-residual").attr("value",e(this).val()+"%"),e("#"+t+"-residual").trigger("change")}),e("#payment-"+t).on("change",function(){e(this).is(":checked")?e("#"+t+"-payment").attr("value","Yes"):e("#"+t+"-payment").attr("value","No"),e("#"+t+"-payment").trigger("change")}),e("#fl-"+t+" input").on("change",function(){a(t)}),e("#quote-"+t).on("click",function(a){a.preventDefault();var n=e("#"+t+"-loan").val(),l=e("#"+t+"-amount").val(),r=e("#"+t+"-interest").val(),i=e("#"+t+"-residual").val(),u=e("#"+t+"-payment").val(),o=e("#"+t+"-total").val(),v=e(this).attr("href"),s=e('<form action="'+v+'" method="get"><input type="text" name="type" value="'+t+'" /><input type="text" name="loan" value="'+n+'" /><input type="text" name="amount" value="'+l+'" /><input type="text" name="interest" value="'+r+'" /><input type="text" name="residual" value="'+i+'" /><input type="text" name="payment" value="'+u+'" /><input type="text" name="total" value="'+o+'" /></form>');e("body").append(s),s.submit()})}(r),a(r)}function a(t){var a=n(e("#"+t+"-loan").val()),i=n(e("#"+t+"-amount").val()),u=n(e("#"+t+"-interest").val()),o=n(e("#"+t+"-residual").val());e("#payment-"+t).is(":checked")?payment=1:payment=0;var v=function(e,t,a,n,l){var r,i,u;if(r=a/100/12,i=0,1==l)for(u=1;u<=e;u++)i+=1/Math.pow(1+r,u);else for(u=0;u<e;u++)i+=1/Math.pow(1+r,u);return t*(1-n/100/Math.pow(1+r,e))/i}(a,i,u,o,payment);if(e("#"+t+"-total").attr("value",l(r(v,100))),e("#"+t+"-weekly-total").length){var s=v/4.3;e("#"+t+"-weekly-total").attr("value",l(r(s,100)))}}function n(e){return e.replace(/[`~!@#$%^&*()_|+\-=?;:'",<>\{\}\[\]\\\/]/gi,"")}function l(e){var t,a,n;a=(t=(e+="").split("."))[0],n=t.length>1?"."+t[1]:"";for(var l=/(\d+)(\d{3})/;l.test(a);)a=a.replace(l,"$1,$2");return a+n}function r(e,t){return Math.round(e*t)/t}function l(e){var t,a,n;a=(t=(e+="").split("."))[0],n=t.length>1?"."+t[1]:"";for(var l=/(\d+)(\d{3})/;l.test(a);)a=a.replace(l,"$1,$2");return a+n}e(window).on("load",function(){t(e(".tabwrapper").find("a.active").attr("id"))}),e("body").on("click",".tabwrapper a.nav-link",function(){t(e(this).attr("id"))})});